{"version":3,"file":"shade-calc.js","sourceRoot":"","sources":["../../../src/dex/shade/shade-calc.ts"],"names":[],"mappings":"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"}